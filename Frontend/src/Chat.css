/* Clean, modern chat UI styles for Chat.tsx */
:root{
	--bg: #f6f8fb;
	--panel: #ffffff;
	--muted: #98a0aa;
	--primary: #2f6bed;
	--accent: #00b894;
	--incoming: #eef6ff;
	--outgoing: #dcf8c6;
	--danger: #ff5252;
	--radius: 14px;
	--shadow: 0 6px 20px rgba(18,38,63,0.08);
	--glass: rgba(255,255,255,0.6);
	--max-width: 980px;
  overflow: hidden;
}


/* Layout container for the chat component */
.chat {
	width: 100%;
	max-width: var(--max-width);
	margin: 28px auto;
	background: linear-gradient(180deg, var(--panel) 0%, var(--panel) 100%);
	border-radius: 16px;
	box-shadow: var(--shadow);
	overflow: hidden;
	display: flex;
	flex-direction: column;
	min-height: 520px;
	border: 1px solid rgba(20,30,50,0.04);
}

/* Header */
.chat__header{
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 14px 18px;
	border-bottom: 1px solid rgba(16,24,40,0.04);
	background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));
}
.chat__header .avatar{
	width: 44px;
	height: 44px;
	border-radius: 10px;
	background: linear-gradient(135deg,#e6eefc,#f3f8ff);
	display:flex;
	align-items:center;
	justify-content:center;
	font-weight:600;
	color:var(--primary);
	flex: 0 0 44px;
}
.chat__header .meta{
	display:flex;
	flex-direction:column;
}
.chat__header .meta .title{
	font-size:1rem;
	font-weight:600;
	color:#101828;
}
.chat__header .meta .subtitle{
	font-size:0.85rem;
	color:var(--muted);
}

/* Messages area */
.chat__messages{
	padding: 18px;
	display: flex;
	flex-direction: column;
	gap: 12px;
	overflow-y: auto;
	background: var(--bg);
	flex: 1 1 auto;
}

/* Single message wrapper (handled below with JSX-compatible selectors) */

.message__avatar{
	width:36px;
	height:36px;
	border-radius:10px;
	background: #fff;
	box-shadow: 0 3px 8px rgba(15,22,40,0.04);
	display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--primary);
	flex: 0 0 36px;
}

.message__bubble{
	padding: 10px 14px;
	border-radius: 12px;
	background: var(--incoming);
	color: #0b1220;
	line-height: 1.35;
	box-shadow: 0 3px 8px rgba(16,24,40,0.04);
	word-wrap: break-word;
}
.message--outgoing .message__bubble{background:var(--outgoing)}

.message__meta{
	display:flex;
	gap:8px;
	margin-top:6px;
	font-size:0.72rem;
	color:var(--muted);
}

/* Allow small info under bubble when stacked */
.message__group{display:flex;flex-direction:column}

/* Composer / input area */
.chat__composer{
	padding: 12px 14px;
	border-top: 1px solid rgba(16,24,40,0.04);
	display:flex;
	gap:10px;
	align-items:center;
	background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
}
.composer__input{
	flex:1 1 auto;
	display:flex;
	gap:8px;
	align-items:center;
	padding:8px 10px;
	border-radius: 12px;
	background: #fbfdff;
	border: 1px solid rgba(16,24,40,0.04);
}
.composer__input textarea{
	width:100%;
	resize:none;
	border:0;
	outline: none;
	background: transparent;
	font-size:0.95rem;
	color:#091023;
	line-height:1.3;
	padding:6px 4px;
}

.composer__actions{
	display:flex;gap:8px;align-items:center;
}
.btn{
	display:inline-flex;align-items:center;justify-content:center;
	padding:8px 10px;border-radius:10px;border:0;background:var(--primary);color:#fff;font-weight:600;cursor:pointer;
	box-shadow: 0 6px 14px rgba(47,107,237,0.16);
}
.btn--ghost{background:transparent;color:var(--primary);border:1px solid rgba(47,107,237,0.08);box-shadow:none}
.btn:active{transform:translateY(1px)}

/* Small icon buttons */
.icon-btn{
	width:40px;height:40px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;background:transparent;border:1px solid rgba(16,24,40,0.04);cursor:pointer;color:var(--muted)
}
.icon-btn:focus{outline:3px solid rgba(47,107,237,0.14)}

/* timestamp and meta alignment for outgoing vs incoming */
.message--outgoing .message__meta{justify-content:flex-end}

/* Tiny link/media preview inside bubble */
.message__bubble a{color:var(--primary);text-decoration:underline}
.message__bubble img{max-width:320px;border-radius:8px;display:block;margin-top:8px}

/* Responsive rules */
@media (max-width:720px){
	.chat{border-radius:12px;min-height:420px;margin:12px}
	.chat__header .avatar{width:40px;height:40px}
	.message__bubble img{max-width:220px}
}

@media (max-width:420px){
	.chat{min-height:360px}
	.composer__input textarea{font-size:0.9rem}
	.btn{padding:8px}
}

/* Accessibility: focus visible for keyboard users */
.chat :focus{outline: none}
.chat :focus-visible{outline: 3px solid rgba(47,107,237,0.14);outline-offset:2px}

/* utility */
.u-muted{color:var(--muted);font-size:0.85rem}

/* Hide scrollbars completely while keeping scroll functionality */
.left-panel::-webkit-scrollbar,
.right-panel::-webkit-scrollbar,
.messages-container::-webkit-scrollbar,
.chat-history::-webkit-scrollbar,
.reports-list::-webkit-scrollbar {
	display: none;
}

.left-panel,
.right-panel,
.messages-container,
.chat-history,
.reports-list {
	-ms-overflow-style: none;  /* IE and Edge */
	scrollbar-width: none;  /* Firefox */
}

/* --- Compatibility mappings for current JSX class names --- */
/* The project uses class names like `chat-container`, `left-panel`, `right-panel`,
	 `messages-container`, `input-container`, etc. Map them to the styles above. */
.chat-container{
	display:flex;
	gap:18px;
	/* make full viewport height so the chat fills the screen */
	height: 100vh;
	width: 100vw;
	max-width: 100%;
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	background: var(--bg);
	align-items: stretch;
}
.left-panel{
	width: 300px;
	min-width: 260px;
	background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,252,0.98));
	border-radius: 0; /* flush with viewport on full-screen layout */
	padding: 12px;
	box-shadow: var(--shadow);
	border-right: 1px solid rgba(16,24,40,0.04);
	flex: 0 0 300px;
	display:flex;
	flex-direction:column;
	gap:10px;
	height: 100vh;
	overflow: auto;
	color: #0b1220;
}
.right-panel{
	flex: 1 1 auto;
	display:flex;
	flex-direction:column;
	gap:8px;
	height: 100vh;
	color: #0b1220;
	overflow: auto;
}

.sidebar-header{display:flex;flex-direction:column;gap:8px;padding:6px 4px}
.sidebar-header h2{margin:0;font-size:1.05rem;color:#0b1220}
.user-info{display:flex;align-items:center;gap:8px}
.user-avatar{width:36px;height:36px;border-radius:8px;object-fit:cover}
.user-avatar-placeholder{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,#eef4ff,#ffffff);display:flex;align-items:center;justify-content:center;color:var(--primary);font-weight:700}
.user-name{font-size:0.9rem;color:#0b1220}
.new-chat-btn,.logout-btn{padding:8px 10px;border-radius:8px;border:0;background:var(--primary);color:#fff;cursor:pointer;font-weight:600}
.logout-btn{background:transparent;color:var(--danger);border:1px solid rgba(255,82,82,0.08)}

.tab-container{display:flex;gap:8px;padding:6px 4px}
.tab-container button{background:transparent;border:1px solid rgba(16,24,40,0.04);padding:8px 10px;border-radius:8px;cursor:pointer;color:#0b1220;font-weight:500}
.tab-btn.active{background:var(--primary);color:#fff;border-color:transparent}

.chat-history,.reports-list{overflow:auto;display:flex;flex-direction:column;gap:8px;padding:6px}
.chat-history-item,.report-item{padding:10px;border-radius:10px;background:rgba(255,255,255,0.8);border:1px solid rgba(16,24,40,0.03);cursor:pointer;display:flex;flex-direction:column;align-items:flex-start;gap:4px}
.chat-history-item:hover,.report-item:hover{box-shadow:0 6px 18px rgba(16,24,40,0.04)}
.chat-title{font-weight:600;color:#0b1220}
.chat-date,.report-info{font-size:0.8rem;color:var(--muted)}
.report-title{font-weight:600;color:#0b1220}

.chat-header{padding:12px 6px;border-bottom:1px solid rgba(16,24,40,0.04)}
.chat-header h2{margin:0;font-size:1.1rem;color:#0b1220}

.messages-container{
	flex:1 1 auto;
	display:flex;
	flex-direction:column;
	gap:12px;
	padding:24px 20px;
	overflow-y: auto;
	overflow-x: hidden;
	background: transparent;
	/* center the chat column like ChatGPT */
	align-items: center;
}
.messages-container .messages-inner{width:100%;max-width:820px;display:flex;flex-direction:column;gap:12px}
.messages-container > .message{width:100%;}
.empty-state{display:flex;align-items:center;justify-content:center;color:var(--muted);padding:32px}

/* Map message variants used in JSX to the bubble styles above */
.message{display:flex;gap:10px;align-items:flex-end;width:100%;}
.message.user-message{justify-content:flex-end}
.message.ai-message{justify-content:flex-start}
.message .message-content{
	padding:10px 14px;
	border-radius:12px;
	background:var(--incoming);
	color:#0b1220;
	box-shadow:0 3px 8px rgba(16,24,40,0.04);
	word-wrap:break-word;
	max-width: 100%;
	display:inline-block;
}
.message.user-message .message-content{background:var(--outgoing);margin-left:auto}
.message.ai-message .message-content{margin-right:auto}

.input-container{
	padding:10px;border-top:1px solid rgba(16,24,40,0.04);display:flex;gap:10px;align-items:center;
	/* keep composer visible at bottom of viewport */
	position: sticky;
	bottom: 0;
	background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
	z-index: 6;
}
.input-wrapper{flex:1;display:flex;gap:8px;align-items:center;padding:8px;border-radius:10px;background:#fbfdff;border:1px solid rgba(16,24,40,0.04)}
.upload-btn{width:40px;height:40px;border-radius:8px;border:1px solid rgba(16,24,40,0.04);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;color:#475569;transition:all 0.2s ease}
.upload-btn:hover{background:rgba(47,107,237,0.04);color:var(--primary);border-color:rgba(47,107,237,0.12)}
.message-input{flex:1;border:0;outline:none;background:transparent;padding:6px 8px;font-size:0.95rem;color:#091023}
.voice-btn{width:40px;height:40px;border-radius:8px;border:1px solid rgba(16,24,40,0.04);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;color:#475569}
.send-btn{padding:8px 12px;border-radius:10px;border:0;background:var(--primary);color:#fff;cursor:pointer}

@media (max-width:900px){
	.left-panel{display:none}
	.chat-container{padding:0 8px}
}

